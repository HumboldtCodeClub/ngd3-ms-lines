<div class="container mb-3">
  <div class="row mt-3">
    <div class="col">
      <mat-card>
        <mat-card-title>
          Chart Configuration
        </mat-card-title>
        <mat-card-content>
          <section class="config-section">
            <mat-form-field class="config-margin">
              <input matInput type="number" placeholder="Lines" [min]="1" [max]="10" [(ngModel)]="lineCount" (ngModelChange)="refreshData()">
            </mat-form-field>
            <mat-form-field class="config-margin">
              <input matInput type="number" placeholder="Points" [(ngModel)]="pointCount" (ngModelChange)="refreshData()">
            </mat-form-field>
          </section>
          <section class="config-section">
              <mat-checkbox class="config-margin" [(ngModel)]="randomLineCount" (ngModelChange)="refreshData()">Randomize line count</mat-checkbox>
              <mat-checkbox class="config-margin" [(ngModel)]="randomPointCount" (ngModelChange)="refreshData()">Randomize point count</mat-checkbox>
              <mat-form-field class="config-margin">
                <mat-select placeholder="Curve Type" [(ngModel)]="selectedCurveType">
                  <mat-option *ngFor="let key of curveTypeKeys" value="{{curveTypes[key]}}">{{curveTypes[key]}}</mat-option>
                </mat-select>
              </mat-form-field>
          </section>
          <section class="config-section">
              <mat-checkbox class="config-margin" [(ngModel)]="binned">Binned</mat-checkbox>
              <mat-form-field class="config-margin" *ngIf="binned">
                <input matInput type="number" placeholder="Bins" [(ngModel)]="binCount">
              </mat-form-field>
              <mat-form-field class="config-margin" *ngIf="binned">
                <mat-select placeholder="Bin Type" [(ngModel)]="selectedBinType">
                  <mat-option *ngFor="let key of binTypeKeys" value="{{binTypes[key]}}">{{binTypes[key]}}</mat-option>
                </mat-select>
              </mat-form-field>
              <mat-checkbox class="config-margin" [(ngModel)]="scaleXtoDataset">Scale x to dataset</mat-checkbox>
          </section>
          <section class="config-section">
              <button class="config-margin" mat-raised-button (click)="refreshData()">Refresh</button>
          </section>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col">
      <mat-card>
        <mat-card-title>
          Multi Series Line Chart
        </mat-card-title>
        <mat-card-content>
            <ms-line-chart [dataset]="series" [binType]="selectedBinType" [binned]="binned" [binCount]="binCount" [scaleXtoDataset]="scaleXtoDataset" [curveType]="selectedCurveType"></ms-line-chart>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
